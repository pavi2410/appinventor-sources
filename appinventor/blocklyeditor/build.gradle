defaultTasks 'BlocklyCompile', 'BlocklyTestbed'

task BlocklyCompile(type: JavaExec) {
	main = '-jar'
	args '../lib/plovr/plovr-eba786b34df9.jar', 'build', 'ploverConfig.js'
}

task BlocklyTestbed {
	doLast {
		def f1 = file("${rootProject.buildDir}/component-types.js")
		def f2 = file("$buildDir/components/simple_components.json")
		f1.text = 'var componentTypeJson =' + f2.text
		
		copy {
			from "$blocklySrcDir/media"
			into "$publicBuildDir/media"
		}
	}
}